{% extends 'base.html.twig' %}

{% block title %}DÉTAILS
{% endblock %}

{% block stylesheet %}
	{{ parent() }}
{% endblock %}

{% block body %}
	{% include '/components/navbar.html.twig' %}


	<nav class="flex ml-8 mt-10" aria-label="Breadcrumb">
		<ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
			<li class="inline-flex items-center">
				<a href="{{ path('app_home')}}" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-grey">
					Catalogue
				</a>
			</li>
			<li>
				<div class="flex items-center">
					/
					<a href="#" class="ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-grey">{{ card.title }}</a>
				</div>
			</li>
		</ol>
	</nav>

	<form method="post" action="#">
		<div
			class="flex">
			<!-- Moitié gauche pour l'image -->
			<div class="w-1/2 rounded-xl overflow-hidden bg-lightgrey ml-8 mt-8 mr-4">
				<img class="image h-full w-full object-cover rounded-t-lg" src="{{ asset('build/images/placeholder.png')}}" alt="image"/>
			</div>

			<!-- Moitié droite pour les informations -->
			<div class="w-1/2 ml-4 mr-8 mt-8">
				<div
					class="border-b border-grey border-opacity-20">
					<!-- Description de la carte en question -->
					<h2 class="text-2xl font-medium mb-8">{{ card.title }}</h2>
					<p class="text-lg font-medium mb-3">Description</p>
					<p class="text-grey mb-8">{{ card.description }}</p>
				</div>

				<!-- Formulaire d'insertion des éléments personnels -->

				<p class="text-lg font-medium mt-10 mb-3">Renseignez vos informations</p>

				<div class=" grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 border-b border-grey border-opacity-20">
					<div class="sm:col-span-3">
						<div class="mt-3 mb-2 font-medium">
							{{ form_row(form.lastName, {
                            'label': 'Nom',
                            'attr': {
                                'class': 'form-control mt-2 block w-full rounded-md py-1.5 text-black font-normal bg-[#FFFFFF] placeholder:text-gray-400 border border-grey border-opacity-20',
                                'value': app.user.lastName ?? ''
                            }
                        }) }}
						</div>
					</div>

					<div class="sm:col-span-3 text-black">
						<div class="mt-3 mb-2 font-medium">
							{{ form_row(form.firstName, {
                            'label': 'Prénom',
                            'attr': {
                                'class': 'form-control mt-2 block w-full rounded-md py-1.5 text-black font-normal bg-[#FFFFFF] placeholder:text-gray-400 border border-grey border-opacity-20',
                                'value': app.user.firstName ?? ''
                            }
                        }) }}
						</div>
					</div>

					<div class="sm:col-span-3 text-black">
						<div class="mt-3 mb-2 font-medium">
							{{ form_row(form.fonction, {
                            'label': 'Fonction',
                            'attr': {
                                'class': 'form-control mt-2 block w-full rounded-md py-1.5 text-black font-normal bg-[#FFFFFF] placeholder:text-gray-400 border border-grey border-opacity-20',
                                'value': app.user.fonction ?? ''
                            }
                        }) }}
						</div>
					</div>

					<div class="col-span-3 text-black">
						<div class="mt-3 mb-2 font-medium">
							{{ form_row(form.email, {
                            'label': 'E-mail',
                            'attr': {
                                'class': 'form-control mt-2 block w-full rounded-md py-1.5 text-black font-normal bg-[#FFFFFF] placeholder:text-gray-400 border border-grey border-opacity-20',
                                'value': app.user.email ?? ''
                            }
                        }) }}
						</div>
					</div>

					<div class="sm:col-span-3 text-black">
						<div class="mt-3 mb-2 font-medium">
							{{ form_row(form.mobilePhone, {
                            'label': 'Téléphone mobile',
                            'attr': {
                                'class': 'form-control mt-2 block w-full rounded-md py-1.5 text-black font-normal bg-[#FFFFFF] placeholder:text-gray-400 border border-grey border-opacity-20',
                                'value': app.user.mobilePhone ?? ''
                            }
                        }) }}
						</div>
					</div>

					<div class="sm:col-span-3 text-black mb-12">
						<div class="mt-3 mb-2 font-medium ">
							{{ form_row(form.housePhone, {
                            'label': 'Téléphone fixe',
                            'attr': {
                                'class': 'form-control mt-2 block w-full rounded-md py-1.5 text-black font-normal bg-[#FFFFFF] placeholder:text-gray-400 border border-grey border-opacity-20',
                                'value': app.user.housePhone ?? ''
                            }
                        }) }}
						</div>
					</div>
				</div>
				<p class="text-lg font-medium mt-10 mb-3">Quantité</p>
				<div class="flex">
					<button class="bg-white border border-grey border-opacity-20 mr-2 hover:bg-blue hover:text-white text-black font-medium py-2 px-4 rounded" onclick="selectQuantity(this)">
						12
					</button>

					<button class="bg-white border border-grey border-opacity-20 mx-2 hover:bg-blue hover:text-white text-black font-medium py-2 px-4 rounded" onclick="selectQuantity(this)">
						24
					</button>

					<button class="bg-white border border-grey border-opacity-20 mx-2 hover:bg-blue hover:text-white text-black font-medium py-2 px-4 rounded" onclick="selectQuantity(this)">
						48
					</button>

					<button class="bg-white border border-grey border-opacity-20 mx-2 hover:bg-blue hover:text-white text-black font-medium py-2 px-4 rounded" onclick="selectQuantity(this)">
						96
					</button>

				</div>
				<button type="submit" class="bg-blue border border-grey border-opacity-20 w-full mt-10 text-white font-semibold py-2 px-4 rounded">Ajouter au panier</button>
			</div>
		</div>
	</form>
	{% include '/components/footer.html.twig' %}


	<script>
		let selectedButton = null;

function selectQuantity(button) { // Désélectionne le bouton précédemment sélectionné
if (selectedButton) {
selectedButton.classList.remove('selected');
}

const submitButton = document.querySelector('button[type="submit"]');
submitButton.removeAttribute('disabled');
// Active le bouton

// Sélectionne le nouveau bouton
button.classList.add('selected');
selectedButton = button;
}
	</script>

{% endblock %}
